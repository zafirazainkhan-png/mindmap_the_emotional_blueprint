<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindMap: The Emotional Blueprint</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Nunito', sans-serif;
      background: linear-gradient(135deg, #f0fdf4 0%, #e0f7fa 100%);
      margin: 0;
      padding: 0;
      color: #1e4d2b;
      min-height: 100vh;
      transition: background 0.5s ease, color 0.5s ease;
      overflow-x: hidden;
    }

    body.dark-mode {
      background: #121212;
      color: #e0e0e0;
    }

    /* Subtle frost swirl at top ‚Äì closes gap */
    .frost-swirl {
      height: 80px;
      background: linear-gradient(to bottom, rgba(240,253,244,0.95), transparent);
      position: relative;
      overflow: hidden;
    }

    .frost-swirl::before,
    .frost-swirl::after {
      content: '';
      position: absolute;
      width: 600px;
      height: 600px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.35);
      backdrop-filter: blur(8px);
      top: -300px;
      animation: swirlSlow 28s linear infinite;
    }

    .frost-swirl::before {
      left: -150px;
    }

    .frost-swirl::after {
      right: -150px;
      animation-direction: reverse;
      animation-duration: 22s;
    }

    @keyframes swirlSlow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    header {
      text-align: center;
      padding: 40px 20px 60px; /* reduced top padding */
    }

    h1 {
      font-family: 'Fredoka One', cursive;
      font-size: 4.2rem;
      color: #2d6a4f;
      margin: 10px 0 15px;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.08);
      animation: fadeIn 1.2s ease-out;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
    }

    .swirl {
      font-size: 3.2rem;
      animation: swirl 4s linear infinite;
    }

    @keyframes swirl {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .tagline {
      font-size: 1.8rem;
      color: #40916c;
      margin: 0 0 20px;
      font-weight: 600;
      animation: fadeIn 1.6s ease-out;
    }

    .supportive-message {
      font-size: 1.35rem;
      color: #52b788;
      font-style: italic;
      max-width: 800px;
      margin: 0 auto 40px;
      animation: fadeIn 2s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Engaging welcome container ‚Äì more compact & creative */
    .welcome-container {
      max-width: 1000px;
      margin: 0 auto 70px; /* reduced spacing */
      padding: 45px 40px;
      position: relative;
      background: rgba(255, 255, 255, 0.65);
      backdrop-filter: blur(14px);
      border-radius: 40px;
      box-shadow: 0 18px 45px rgba(0,0,0,0.12);
      border: 2px solid rgba(255, 255, 255, 0.8);
      overflow: hidden;
    }

    .welcome-container::before {
      content: '';
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 260px;
      height: 90px;
      background: radial-gradient(ellipse, rgba(116,198,157,0.35) 0%, transparent 70%);
      border-radius: 50%;
      animation: pulseSoft 7s ease-in-out infinite;
    }

    @keyframes pulseSoft {
      0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.4; }
      50% { transform: translateX(-50%) scale(1.15); opacity: 0.6; }
    }

    body.dark-mode .welcome-container {
      background: rgba(30, 40, 50, 0.75);
      border: 2px solid rgba(80, 100, 120, 0.4);
    }

    .welcome-container h2 {
      font-family: 'Fredoka One', cursive;
      font-size: 2.9rem;
      color: #2d6a4f;
      margin-bottom: 25px;
      position: relative;
    }

    body.dark-mode .welcome-container h2 {
      color: #95d5b2;
    }

    .welcome-container p {
      font-size: 1.32rem;
      line-height: 1.85;
      color: #1e4d2b;
      max-width: 860px;
      margin: 0 auto;
    }

    body.dark-mode .welcome-container p {
      color: #e0e0e0;
    }

    /* Visible scroll hook ‚Äì engaging & subtle */
    .scroll-hook {
      text-align: center;
      margin: 40px auto 60px;
      font-size: 1.4rem;
      color: #52b788;
      animation: gentleBounce 2.5s infinite;
      font-weight: 600;
    }

    .scroll-hook span {
      display: inline-block;
      animation: arrowBounce 2.5s infinite;
    }

    @keyframes gentleBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    @keyframes arrowBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(10px); }
    }

    /* Reduced spacing for other sections */
    .cute-warning {
      max-width: 1000px;
      margin: 0 auto 60px; /* reduced */
      padding: 30px;
      text-align: center;
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(12px);
      border-radius: 36px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.1);
      border: 1px solid rgba(255, 255, 255, 0.8);
    }

    .cute-warning p {
      font-size: 1.22rem;
      color: #1e4d2b;
      line-height: 1.7;
    }

    body.dark-mode .cute-warning {
      background: rgba(30, 40, 50, 0.7);
      color: #e0e0e0;
      border: 1px solid rgba(80, 100, 120, 0.3);
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 35px;
      max-width: 1300px;
      margin: 0 auto 70px; /* reduced */
      padding: 0 20px;
    }

    .grid-box {
      background: linear-gradient(145deg, #95d5b2, #74c7b8);
      border-radius: 32px;
      padding: 38px;
      text-align: center;
      color: white;
      text-decoration: none;
      box-shadow: 0 14px 35px rgba(0,0,0,0.18);
      transition: all 0.4s ease;
    }

    .grid-box:hover {
      transform: translateY(-12px) scale(1.04);
      box-shadow: 0 22px 45px rgba(0,0,0,0.22);
    }

    .emoji {
      font-size: 3.6rem;
      margin-bottom: 18px;
    }

    .grid-box h3 {
      font-family: 'Fredoka One', cursive;
      font-size: 1.95rem;
      margin: 0 0 12px;
    }

    .grid-box p {
      font-size: 1.12rem;
      line-height: 1.5;
    }

    body.dark-mode .grid-box {
      background: linear-gradient(145deg, #2d6a4f, #40916c);
    }

    .did-you-know {
      text-align: center;
      font-size: 1.3rem;
      color: #40916c;
      margin: 0 auto 70px; /* reduced */
      max-width: 900px;
      padding: 28px;
      background: rgba(240, 253, 244, 0.7);
      border-radius: 24px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    }

    body.dark-mode .did-you-know {
      background: rgba(30, 40, 40, 0.8);
      color: #95d5b2;
    }

    footer {
      text-align: center;
      padding: 35px 20px;
      background: linear-gradient(90deg, #74c69d, #52b788);
      color: white;
      font-size: 1.1rem;
    }

    footer a {
      color: #e0f7fa;
      text-decoration: none;
      font-weight: bold;
    }

    footer a:hover {
      text-decoration: underline;
    }

    body.dark-mode footer {
      background: linear-gradient(90deg, #2d6a4f, #40916c);
    }

    .footer-note {
      max-width: 900px;
      margin: 0 auto 18px;
      font-size: 1.15rem;
      opacity: 0.95;
      line-height: 1.6;
      font-style: italic;
    }

    @media (max-width: 900px) {
      .frost-swirl { height: 60px; }
      header { padding: 30px 20px 50px; }
      h1 { font-size: 3.4rem; }
      .welcome-container { padding: 35px 20px; border-radius: 28px; margin-bottom: 50px; }
      .welcome-container h2 { font-size: 2.5rem; }
      .scroll-hook { margin: 30px auto 50px; font-size: 1.3rem; }
      .grid-container { gap: 28px; }
      .cute-warning, .did-you-know { margin-bottom: 50px; padding: 25px; }
    }
  </style>
</head>
<body>

  <!-- Subtle frost swirl divider -->
  <div class="frost-swirl"></div>

  <header>
    <h1><span class="swirl">‚ú®</span> MindMap: The Emotional Blueprint <span class="swirl">‚ú®</span></h1>
    <p class="tagline">A calm space to understand your emotions and the brain behind them</p>
    <p class="supportive-message">You're not here to fix yourself. You're here to understand yourself with kindness and wonder.</p>
  </header>

  <!-- Engaging welcome container -->
  <div class="welcome-container">
    <h2>Welcome to MindMap!</h2>
    <p>
      This is your gentle space to explore how your brain and emotions connect. If you've ever felt anxious before a test, overwhelmed by a tough day, or unsure why your mood suddenly shifted, you're not alone. 
      MindMap helps you understand the science behind those feelings and offers simple tools to navigate them with care. Through soft visuals, relatable examples, and a calming design, you'll discover how different brain regions shape your emotions and how to support yourself every day. Let's begin.
    </p>
  </div>

  <!-- Visible, engaging scroll hook -->
  <div class="scroll-hook">
    Scroll down to start your journey <span>‚Üì</span>
  </div>

  <section class="cute-warning">
    <p>A Little Note from the Heart: This is a student passion project, created to make mental health and neuroscience information simple, beautiful, and accessible. If you're struggling, please reach out to a trusted adult or professional. You are never alone, and help is always available. We're here to spread understanding and positivity!</p>
  </section>

  <section class="grid-container">
    <a class="grid-box" href="{{ url_for('why_am_i_feeling') }}">
      <div class="emoji">ü´†</div>
      <h3>Why am I feeling?</h3>
      <p>Explore how your brain creates emotions like stress, joy, or fear and what‚Äôs really going on inside.</p>
    </a>
    <a class="grid-box" href="{{ url_for('managing_emotions') }}">
      <div class="emoji">‚öíÔ∏è</div>
      <h3>Managing Your Emotions</h3>
      <p>Simple, science-backed tools like breathing, journaling, and movement to feel calmer.</p>
    </a>
    <a class="grid-box" href="{{ url_for('what_am_i_feeling') }}">
      <div class="emoji">üßê</div>
      <h3>What am I feeling?</h3>
      <p>A gentle guide to naming and understanding different emotions, no confusion anymore.</p>
    </a>
    <a class="grid-box" href="{{ url_for('mood_messengers') }}">
      <div class="emoji">üß†</div>
      <h3>Mood Messengers</h3>
      <p>Meet the brain regions that send emotional signals, your inner messengers!</p>
    </a>
  </section>

  <section class="did-you-know">
    <p>Did you know? Your amygdala can detect danger before you even realize it. It's like having a quiet guardian watching over you.</p>
  </section>

  <footer>
    <div class="footer-note">
      The information in MindMap was carefully researched from trusted sources and is not made up. All images were sourced from free platforms or generated with AI tools and are not complete original creations by me. For full references, please see the Work Cited page.
    </div>
    <p>For any assistance or complaints, email <a href="mailto:zafira.khan@akadha.org">zafira.khan@akadha.org</a> | <a href="{{ url_for('work_cited') }}">Work Cited</a></p>
  </footer>

  <audio id="bgMusic" loop>
    <source src="{{ url_for('static', filename='background.mp3') }}" type="audio/mpeg">
  </audio>

  <script>
    // Floating Dark Mode Button
    const darkModeBtn = document.createElement('button');
    darkModeBtn.id = 'darkModeBtn';
    darkModeBtn.innerHTML = 'üåô Dark Mode';
    darkModeBtn.style.cssText = 'position:fixed; bottom:20px; right:20px; z-index:1000; padding:12px 20px; border:none; border-radius:50px; background:#52b788; color:white; font-weight:bold; cursor:pointer; box-shadow:0 4px 15px rgba(0,0,0,0.2); transition:all 0.3s; font-size:1rem;';
    document.body.appendChild(darkModeBtn);

    const savedTheme = localStorage.getItem('theme') || 'light';
    if (savedTheme === 'dark') {
      document.body.classList.add('dark-mode');
      darkModeBtn.innerHTML = '‚òÄÔ∏è Light Mode';
    }

    darkModeBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      darkModeBtn.innerHTML = isDark ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // Floating Sound Button
    const soundBtn = document.createElement('button');
    soundBtn.id = 'soundBtn';
    soundBtn.innerHTML = 'üîä Sound On';
    soundBtn.style.cssText = 'position:fixed; bottom:80px; right:20px; z-index:1000; padding:12px 20px; border:none; border-radius:50px; background:#74c69d; color:white; font-weight:bold; cursor:pointer; box-shadow:0 4px 15px rgba(0,0,0,0.2); transition:all 0.3s; font-size:1rem;';
    document.body.appendChild(soundBtn);

    const bgMusic = document.getElementById('bgMusic');
    let isPlaying = false;
    bgMusic.muted = true;

    soundBtn.addEventListener('click', () => {
      bgMusic.muted = !bgMusic.muted;
      if (!bgMusic.muted && !isPlaying) {
        bgMusic.play().catch(() => {});
        isPlaying = true;
      }
      soundBtn.innerHTML = bgMusic.muted ? 'üîä Sound On' : 'üîá Sound Off';
    });

    document.body.addEventListener('click', () => {
      if (!isPlaying && !bgMusic.muted) {
        bgMusic.play().catch(() => {});
        isPlaying = true;
      }
    }, { once: true });
  </script>
</body>
</html>